As I started looking at data on CKAN sites, I noticed that a lot of the
datasets were links to files on other websites. And a lot of these links
were dead.


## Caveats about the data
The downloads of some sites didn't work at all, mainly because they required
authorization (lolz "open data") that I did not have.


## Internal versus external storage
I am going to define two different ways of serving a dataset on the web.
These two approaches are supported by both Socrata and CKAN.

With **internal storage**, the dataset is uploaded to the data catalog software
itself. In CKAN, the dataset gets stored in the FileStore, and in Socrata,
the dataset gets stored in Socrata's data storage. (There isn't really a
name for this place in Socrata's architecture, as far as I know.)

With **external storage**, the dataset is a file that is stored on some other
website on the internet, and we can reference the dataset with a URL. When we
add the dataset to CKAN or Socrata, we are just linking to this other website.

## Software suggests behaviour
While both softwares support both storage methods, Socrata encourages the
use of internal storage, and CKAN encourages the use of external storage.
Let's walk through how you create a dataset in both CKAN and Socrata through
their respective web interfaces.

### CKAN
In CKAN, this is the screen you get when you are specifying the data file
for your dataset.

![](ckan-1.png)

The first screen says nothing about how to enter the data, but the second one does.

![](ckan-2.png)

You enter the URL of a file or an API,

![](ckan-3.png)

or you upload a file.

![](ckan-4.png)

After you upload the file, the box gets populated with the URL to which that
has been uploaded. (This URL is inside the CKAN FileStore.)

![](ckan-5.png)

The first two cases lead to external storage, and
the third case leads to internal storage.
CKAN does fancy things depending on whether you say it's a file or an API
and depending on the file format you tell it, but that's separate from the
issue of internal versus external storage.

As you might notice above, CKAN subtly encourages you to store things externally.

1. There are two options for external storage but just one for internal.
2. The two tabs for external storage options come before the third tab for
    internal storage.
3. In the web interface, internally stored, uploaded files are treated like
    external links.
4. One of the external storage options (the "Link to a file" tab) is selected
    by default when you arrive at the page.

CKAN is a bit subtle in encouraging external storage, but do keep this in mind.

### Socrata
While externally stored data exist on Socrata, I didn't find any way of creating
such a dataset with the Socrata website. Here's what creating a new dataset on 
Socrata looks like.

![](socrata-start.png)

If you choose to "Design from Scratch", you wind up entering the data through
the table interface in Socrata; after you click through a few screens, you get
an editor like this.

![](socrata-scratch-2.png)

If you choose to "Import a Data File", you see this.

![](socrata-1.png)

Because I was looking for a place to add externally stored data, I clicked on
"On the Internet". I entered a file into this box, and the file got downloaded
to Socrata.

![](socrata-2.png)

Then I got this schema editor,

![](socrata-3.png)

and the data got imported to the internal storage.

![](socrata-5.png)

The non-data file approach also leads to internal storage.

![](socrata-non-data.png)

I don't even see any documentation as to how to do this
[with the API](http://dev.socrata.com/publishers/importing).

So it's pretty hard to add an externally stored dataset to Socrata.

## How to discourage dead links
If your data are stored in CKAN's FileStore or in Socrata's
data storage (rather than as an external link), then it is
practically impossible for the link to be dead.

If we want to use fancy design-speak, we can call this a forcing function.
A forcing function is an aspect in the design of a thing that makes it
impossible for people to do something that they aren't supposed to do.
We want to make sure that links to datasets stay alive. CKAN and Socrata both
have a mechanism for forcing this on people.

Removing this external link feature should reduce the number of dead links
to zero, and that might be nice. On the other hand, there might be some good
things about external links, so maybe we can instead come up with some other
software feature that helps people avoid or fix dead links. For example,
perhaps there could be a page that lists the dead datasets and counts how
many times people have tried accessing them.

![Sketch of the aforementioned feature]()

## Why measure data catalogs
Detecting dead links is one of several things that we can easily do to
measure the quality of a data catalog. Similarly, we can also measure
[what licenses are used](/!/open-data-licensing),
[how up-to-date the data are](/!/data-updatedness),

